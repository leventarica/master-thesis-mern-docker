{"ast":null,"code":"var _jsxFileName = \"/Users/leventarica/slack-clone-docker/src/component/Chat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Message from './Message';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport InfoIcon from '@material-ui/icons/Info';\nimport { useParams } from 'react-router-dom';\nimport ChatInput from './ChatInput';\nimport Axios from 'axios';\nimport \"../Chat.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Chat({\n  user\n}) {\n  _s();\n\n  const {\n    roomID\n  } = useParams(); // must coincide with the variable used in path route\n\n  const [roomDetails, setRoomDetails] = useState(null);\n  const [roomMessages, setRoomMessages] = useState([]);\n  useEffect(() => {\n    const url = \"http://localhost:9000/v1/channels/getChannelDetail\";\n    Axios.post(url, {\n      name: roomID\n    }).then(res => {\n      // console.log('Feteched from room details')\n      const details = res.data;\n      setRoomDetails(details);\n    });\n  }, [roomID]);\n  useEffect(() => {\n    const url = `http://localhost:9000/v1/channels/findMessage/${roomID}`;\n    Axios.get(url, {\n      name: roomID\n    }).then(res => {\n      console.log('Feteched from room details');\n      const details = res.data;\n      console.log(details);\n      setRoomMessages(details);\n    });\n  }, [roomMessages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"You are in room: \", roomID]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat__header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat__headerLeft\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"chat__channelName\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"#\", roomDetails === null || roomDetails === void 0 ? void 0 : roomDetails.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(StarBorderIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat__headerRight\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(InfoIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), \" Details\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages\",\n      children: roomMessages.map(room => /*#__PURE__*/_jsxDEV(Message, {\n        userImage: room.userImage,\n        message: room.message,\n        user: room.user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 41\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ChatInput, {\n      user: user,\n      channelName: roomDetails === null || roomDetails === void 0 ? void 0 : roomDetails.name,\n      channelId: roomID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Chat, \"5rIzTkzPU2ZqghFpBBbDsaQIlSg=\", false, function () {\n  return [useParams];\n});\n\n_c = Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["/Users/leventarica/slack-clone-docker/src/component/Chat.js"],"names":["React","useState","useEffect","Message","StarBorderIcon","InfoIcon","useParams","ChatInput","Axios","Chat","user","roomID","roomDetails","setRoomDetails","roomMessages","setRoomMessages","url","post","name","then","res","details","data","get","console","log","map","room","userImage","message"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport Message from './Message'\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport InfoIcon from '@material-ui/icons/Info';\nimport { useParams }  from 'react-router-dom'\nimport ChatInput from './ChatInput'\nimport Axios from 'axios'\nimport \"../Chat.css\"\n\nexport default function Chat({user}) {\n\n    const  {roomID} = useParams();  // must coincide with the variable used in path route\n    const [roomDetails, setRoomDetails] = useState(null)\n    const [roomMessages, setRoomMessages] = useState([])\n\n    useEffect(() => { \n\n     const url = \"http://localhost:9000/v1/channels/getChannelDetail\"\n        Axios.post(url, { name: roomID  }).then(res => {\n            // console.log('Feteched from room details')\n            const details = res.data\n            setRoomDetails(details)\n          })     \n\n    },[roomID])\n\n\n    useEffect(() => { \n\n        const url = `http://localhost:9000/v1/channels/findMessage/${roomID}`\n           Axios.get(url, { name: roomID  }).then(res => {\n               console.log('Feteched from room details')\n               const details = res.data\n               console.log(details)\n              \n               setRoomMessages(details)\n             })     \n   \n       },[roomMessages])\n   \n\n\n    return (\n        <div className=\"chat\">\n            <h2>You are in room: {roomID}</h2>\n            <div className=\"chat__header\">\n                <div className=\"chat__headerLeft\">\n                    <h4 className=\"chat__channelName\">\n                        <strong>#{roomDetails?.name}</strong>\n                        <StarBorderIcon />\n                    </h4>\n                    \n\n                </div>\n\n                <div className=\"chat__headerRight\">\n                    <p>\n                        <InfoIcon /> Details\n                    </p>\n\n                </div>\n            </div>\n\n\n            <div className=\"messages\">\n                \n            {roomMessages.map(room => ( <Message \n                    userImage={room.userImage}\n                    message={room.message}\n                    user={room.user}     \n\n                   />) ) } \n                 \n\n            </div>\n\n            <ChatInput user={user}  channelName={roomDetails?.name} channelId={roomID} />\n\n            \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}